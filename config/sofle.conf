# --- CẤU HÌNH FIX LỖI BLUETOOTH WINDOWS/MEDIATEK (QUAN TRỌNG) ---
# 1. Kich hoat ket noi thuc nghiem (Fix loi rot mang bat thinh linh)
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# 2. Tang cong suat phat song len muc cao nhat
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# 3. Fix loi bao cao pin tren Windows
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n

# 4. Cai thien bo dem du lieu
CONFIG_BT_BUF_ACL_RX_SIZE=512
CONFIG_BT_CTLR_DATA_LENGTH_MAX=251
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n

# --- CẤU HÌNH NĂNG LƯỢNG & NGỦ ---
# Cho phep dung nguon ngoai & USB
CONFIG_ZMK_EXT_POWER=y
CONFIG_ZMK_USB=y

# Idle (Tat led/man hinh): Sau 5 phut (300000ms)
CONFIG_ZMK_IDLE_TIMEOUT=300000

# Deep Sleep (Ngat Bluetooth): Sau 2.5 tieng (9000000ms)
# Chien thuat: "Thuc gan nhu ca ngay" de tranh loi mat ket noi cua MediaTek
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=9000000

# --- CẤU HÌNH PHÍM & ENCODER ---
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=3
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=3
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# --- CẤU HÌNH HIỂN THỊ & LED ---
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y

CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_WS2812_STRIP=y
CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=0
CONFIG_ZMK_RGB_UNDERGLOW_BRT_MAX=30
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n
CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=y

# --- CẤU HÌNH KHÁC ---
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n
CONFIG_ZMK_STUDIO_LOCK_ON_DISCONNECT=n
CONFIG_ZMK_USB_LOGGING=n
